{"version":3,"sources":["logo.svg","assets/star.png","serviceWorker.ts","components/three.tsx","App.tsx","components/index.tsx","threejs/index.ts","threejs/config.ts","routes.tsx","hooks/useWindowSize.tsx","index.tsx"],"names":["module","exports","Boolean","window","location","hostname","match","frameId","App","className","src","logo","alt","href","target","rel","Root","WHITE","LIGHT_CREAM","LIGHT_YELLOW","PANTONE_BLUE_2020","scene","bgColor","Scene","background","Color","setupScene","lights","directionalLight","DirectionalLight","directionalLight2","position","set","AmbientLight","HemisphereLight","setupLights","add","circle","circleGeo","CircleGeometry","circleMat","MeshBasicMaterial","color","Mesh","setupCircle","areaImage","Image","SMAAEffect","areaImageDataURL","searchImage","searchImageDataURL","smaaEffect","stars","starCount","starTexture","TextureLoader","load","star","starGeo","Geometry","i","rainDrop","Vector3","Math","random","extendedStar","velocity","vertices","push","starMaterial","PointsMaterial","size","transparent","map","Points","setupStars","routes","path","exact","component","memo","useState","isClicked","setIsClicked","divRef","useRef","isClient","getSize","width","innerWidth","height","innerHeight","windowSize","setWindowSize","useEffect","handleResize","addEventListener","removeEventListener","useWindowSize","camera","windowWidth","windowHeight","PerspectiveCamera","x","y","z","setupCamera","godRaysEffect","GodRaysEffect","resolutionScale","density","decay","weight","samples","renderPass","RenderPass","effectPass","EffectPass","renderToScreen","composer","EffectComposer","renderer","WebGLRenderer","antialias","setSize","setupRenderer","addPass","textGeometry","font","FontLoader","parse","fontJson","geometry","TextBufferGeometry","computeBoundingBox","loadText","textMesh","MeshPhysicalMaterial","metalness","roughness","opacity","envMapIntensity","createFontMesh","visible","textLine","LineSegments","EdgesGeometry","LineBasicMaterial","linewidth","createFontLine","controls","textObj","Object3D","isMobile","DeviceOrientationControls","deviceOrientation","orbitControls","OrbitControls","domElement","enablePan","maxDistance","minDistance","rotateSpeed","zoomSpeed","animate","update","requestAnimationFrame","forEach","eStar","verticesNeedUpdate","rotation","starsMove","render","start","stop","cancelAnimationFrame","aspect","updateProjectionMatrix","onWindowResize","divEl","current","appendChild","removeChild","connect","disconnect","dispose","onClick","ref","ReactDOM","basename","process","key","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.26f61fae.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.434a5dc5.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE5LTA5LTEwVDA4OjI3OjI4KzA3OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE5LTA5LTEwVDA4OjI3OjI4KzA3OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOS0wOS0xMFQwODoyNzoyOCswNzowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0ZmU0ODhkMy0wMjU5LWQ0NDEtOWNlMS1mNDg2NzEwNWU3NjQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3NDNmOTk3Ny0yMjVlLWIyNDktYjMzNy0wNTA2MGU1NTM0NjEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0ZThiNTZjMS04NjVmLTNkNGItYTk1Yy03YjY2Mzk1ZDIwMDMiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo0ZThiNTZjMS04NjVmLTNkNGItYTk1Yy03YjY2Mzk1ZDIwMDMiIHN0RXZ0OndoZW49IjIwMTktMDktMTBUMDg6Mjc6MjgrMDc6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NGZlNDg4ZDMtMDI1OS1kNDQxLTljZTEtZjQ4NjcxMDVlNzY0IiBzdEV2dDp3aGVuPSIyMDE5LTA5LTEwVDA4OjI3OjI4KzA3OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+0FZuFwAAAcBJREFUaN7lmklOAkEUhlmIF5BARLea4GEQV5Do2oQdmOBCz6C9EK8i3IEOstRwBSEBlKghfC58nXS0VYYe6pV/8jadrqr+UkPXG1JAygYLs7MsUAYcoAU8AAPgVWwgz1ryTlnaGAGyBdSBDjBnec2lbV36ih1kG7gCnglPL8ANkI8DZANoABOi00TGSEcFsgd0iU/3wEHYIIfAiPg1AUphgZwCM5LTTL5hLZAq5qi6Kkgx4ZkImpnisiCFiE+mdfZMYVGQNNDDXPWCjuYgkAbm6/wvkLyhSypoieV/A2miR7c/gWSAqSKQqXzzN5Aa+lQLAnEVgnS+gmRX9CeS1tzb9B5IBb069oM4ikEcP0hLMcidH6SvGKTvBxkrBhn7QbTLCpA3W5bWk5Wb3Zrj15ofouYryokfJGfLpVHrNd61xbE6s9rVTYlDrz74YFU4yJoAnRcy7RoM0WXBkKmXnRoZCDEG9vmPaQWrEj1Wpd48K5FcMvQI5enpHhGkpz3bBC4ivspMgUsZK/ISjh3gmvBLOJrALgkU1WT4LIhxWb2oxpU+MhhS5pQTT9MB2sAjMATexYbyrC3vVKSNcfVaidoHrhc50nP+8ssAAAAASUVORK5CYII=\"","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { \"Service-Worker\": \"script\" }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\"No internet connection found. App is running in offline mode.\");\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React, { useRef, useEffect, useState, memo } from \"react\";\r\nimport { Object3D, Geometry, WebGLRenderer } from \"three\";\r\nimport { GodRaysEffect, RenderPass, EffectPass, EffectComposer, SMAAEffect } from \"postprocessing\";\r\nimport { isMobile } from \"react-device-detect\";\r\n\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\r\nimport { DeviceOrientationControls } from \"three/examples/jsm/controls/DeviceOrientationControls.js\";\r\n\r\nimport useWindowSize from \"../hooks/useWindowSize\";\r\n\r\nimport \"../style/three.css\";\r\n\r\nimport {\r\n  setupRenderer,\r\n  setupCamera,\r\n  setupScene,\r\n  setupLights,\r\n  setupCircle,\r\n  loadText,\r\n  createFontMesh,\r\n  createFontLine,\r\n  setupStars,\r\n  ExtendedVector3\r\n} from \"../threejs\";\r\n\r\nimport { colorPalette } from \"../threejs/config\";\r\n\r\nconst { NIGHT_OWL_BLUE } = colorPalette;\r\n\r\nlet frameId: number | null;\r\n\r\nconst scene = setupScene(NIGHT_OWL_BLUE);\r\n\r\nconst lights = setupLights();\r\nscene.add(...lights);\r\n\r\nconst circle = setupCircle();\r\nscene.add(circle);\r\n\r\nconst areaImage = new Image();\r\nareaImage.src = SMAAEffect.areaImageDataURL;\r\nconst searchImage = new Image();\r\nsearchImage.src = SMAAEffect.searchImageDataURL;\r\nconst smaaEffect = new SMAAEffect(searchImage, areaImage, 1);\r\n\r\nconst stars = setupStars();\r\nscene.add(stars);\r\n\r\nconst ThreeScene = () => {\r\n  const [isClicked, setIsClicked] = useState(false);\r\n\r\n  const divRef = useRef<HTMLDivElement>(null);\r\n  const { width, height } = useWindowSize();\r\n\r\n  const camera = setupCamera(width, height);\r\n\r\n  const godRaysEffect = new GodRaysEffect(camera, circle, {\r\n    resolutionScale: 1,\r\n    density: 0.9,\r\n    decay: 0.95,\r\n    weight: 0.4,\r\n    samples: 100\r\n  });\r\n\r\n  const renderPass = new RenderPass(scene, camera);\r\n  const effectPass = new EffectPass(camera, smaaEffect, godRaysEffect);\r\n  effectPass.renderToScreen = true;\r\n  const composer = new EffectComposer(setupRenderer(width, height));\r\n  composer.addPass(renderPass);\r\n  composer.addPass(effectPass);\r\n\r\n  const textGeometry = loadText();\r\n  const textMesh = createFontMesh(textGeometry);\r\n  textMesh.visible = true;\r\n  const textLine = createFontLine(textGeometry);\r\n  textLine.visible = false;\r\n  const textObj = new Object3D().add(textMesh, textLine);\r\n  textObj.position.set(-150, -90, 0);\r\n  scene.add(textObj);\r\n\r\n  let controls: null | DeviceOrientationControls;\r\n\r\n  if (isMobile) {\r\n    controls = new DeviceOrientationControls(camera);\r\n    controls.deviceOrientation = 0;\r\n  }\r\n\r\n  const renderer = composer.renderer as WebGLRenderer;\r\n\r\n  const orbitControls = new OrbitControls(camera, renderer.domElement);\r\n  orbitControls.enablePan = false;\r\n  orbitControls.maxDistance = 1500;\r\n  orbitControls.minDistance = 200;\r\n  orbitControls.rotateSpeed = 0.4;\r\n  orbitControls.zoomSpeed = 0.6;\r\n\r\n  const renderScene = () => {\r\n    composer.render(scene, camera);\r\n  };\r\n\r\n  const starsMove = () => {\r\n    const starGeo = stars.geometry as Geometry;\r\n    starGeo.vertices.forEach((star: unknown) => {\r\n      const eStar = star as ExtendedVector3;\r\n      eStar.velocity += 0.05 + Math.random() * 0.01;\r\n      eStar.z += eStar.velocity;\r\n      if (eStar.z > 1500) {\r\n        eStar.z = -1500;\r\n        eStar.velocity = 0;\r\n      }\r\n    });\r\n    starGeo.verticesNeedUpdate = true;\r\n    stars.rotation.z -= 0.0005;\r\n  };\r\n\r\n  const animate = () => {\r\n    isMobile && controls && controls.update();\r\n    frameId = window.requestAnimationFrame(animate);\r\n    starsMove();\r\n    renderScene();\r\n  };\r\n\r\n  const start = () => {\r\n    if (!frameId) {\r\n      frameId = requestAnimationFrame(animate);\r\n    }\r\n  };\r\n\r\n  const stop = () => {\r\n    frameId && cancelAnimationFrame(frameId);\r\n    frameId = null;\r\n  };\r\n\r\n  const onWindowResize = (width: number, height: number) => {\r\n    camera.aspect = width / height;\r\n    camera.updateProjectionMatrix();\r\n\r\n    composer.setSize(width, height);\r\n  };\r\n\r\n  useEffect(() => {\r\n    onWindowResize(width, height);\r\n\r\n    if (!isMobile) {\r\n      start();\r\n    }\r\n\r\n    const divEl = divRef.current;\r\n    divEl?.appendChild(renderer.domElement);\r\n\r\n    return () => {\r\n      stop();\r\n      divEl?.removeChild(renderer.domElement);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [width, height]);\r\n\r\n  useEffect(\r\n    () => {\r\n      if (isMobile) {\r\n        controls?.connect();\r\n        start();\r\n      }\r\n      return () => {\r\n        controls?.disconnect();\r\n        controls?.dispose();\r\n        stop();\r\n      };\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [isMobile]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {!isClicked ? (\r\n        <div className=\"overlay\">\r\n          <div className=\"overlay--container\">\r\n            <q className=\"quote\">\r\n              If you gaze long enough into an abyss, the abyss will gaze back into you.\r\n            </q>\r\n            <small className=\"author\"> -- Friedrich Nietzsche</small>\r\n            <button className=\"start-button\" onClick={() => setIsClicked(true)}>\r\n              Start\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n      <div ref={divRef} className=\"three-container\"></div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default memo(ThreeScene);\r\n","import React from \"react\";\r\nimport logo from \"./logo.svg\";\r\nimport \"./App.css\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n        <p>\r\n          Edit <code>src/App.tsx</code> and save to reload.\r\n        </p>\r\n        <a\r\n          className=\"App-link\"\r\n          href=\"https://reactjs.org\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          Learn React\r\n        </a>\r\n      </header>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\n\r\nconst Root = () => {\r\n  return <div>Root Component</div>;\r\n};\r\n\r\nexport default Root;\r\n","import {\r\n  Scene,\r\n  Color,\r\n  PerspectiveCamera,\r\n  DirectionalLight,\r\n  WebGLRenderer,\r\n  TextBufferGeometry,\r\n  Mesh,\r\n  LineSegments,\r\n  EdgesGeometry,\r\n  LineBasicMaterial,\r\n  FontLoader,\r\n  CircleGeometry,\r\n  MeshBasicMaterial,\r\n  MeshPhysicalMaterial,\r\n  AmbientLight,\r\n  HemisphereLight,\r\n  Geometry,\r\n  Vector3,\r\n  PointsMaterial,\r\n  Points,\r\n  TextureLoader\r\n} from \"three\";\r\n\r\nimport fontJson from \"../assets/hao.json\";\r\nimport star from \"../assets/star.png\";\r\n\r\nimport { colorPalette } from \"./config\";\r\n\r\nconst { WHITE, LIGHT_CREAM, LIGHT_YELLOW, PANTONE_BLUE_2020 } = colorPalette;\r\n\r\nexport const setupScene = (bgColor: string | number | Color | undefined) => {\r\n  const scene = new Scene();\r\n  scene.background = new Color(bgColor);\r\n  return scene;\r\n};\r\n\r\nexport const setupCamera = (windowWidth: number, windowHeight: number) => {\r\n  const camera = new PerspectiveCamera(60, windowWidth / windowHeight, 1, 50000);\r\n  camera.position.x = -500;\r\n  camera.position.y = 300;\r\n  camera.position.z = 800;\r\n  return camera;\r\n};\r\n\r\nexport const setupLights = () => {\r\n  const directionalLight = new DirectionalLight(LIGHT_YELLOW, 3);\r\n  const directionalLight2 = new DirectionalLight(LIGHT_YELLOW, 0.6);\r\n  directionalLight.position.set(0, 200, -2500);\r\n  directionalLight2.position.set(0, 200, 3000);\r\n  const ambientLight = new AmbientLight(LIGHT_CREAM, 0.4);\r\n  const hemisphereLight = new HemisphereLight(LIGHT_CREAM, PANTONE_BLUE_2020, 0.8);\r\n  return [directionalLight, directionalLight2, ambientLight, hemisphereLight];\r\n};\r\n\r\nexport const setupRenderer = (windowWidth: number, windowHeight: number) => {\r\n  const renderer = new WebGLRenderer({ antialias: true });\r\n  renderer.setSize(windowWidth, windowHeight);\r\n  return renderer;\r\n};\r\n\r\nexport const createFontMesh = (textGeometry: TextBufferGeometry) =>\r\n  new Mesh(\r\n    textGeometry,\r\n    new MeshPhysicalMaterial({\r\n      color: PANTONE_BLUE_2020,\r\n      metalness: 0.5,\r\n      roughness: 0.5,\r\n      opacity: 0.5,\r\n      envMapIntensity: 5\r\n    })\r\n  );\r\n\r\nexport const createFontLine = (textGeometry: TextBufferGeometry) =>\r\n  new LineSegments(\r\n    new EdgesGeometry(textGeometry),\r\n    new LineBasicMaterial({\r\n      color: WHITE,\r\n      linewidth: 1\r\n    })\r\n  );\r\n\r\nexport const loadText = () => {\r\n  const textloader = new FontLoader();\r\n  const font = textloader.parse(fontJson);\r\n  const geometry = new TextBufferGeometry(\"皓\", {\r\n    font,\r\n    size: 200,\r\n    height: 20\r\n  });\r\n  geometry.computeBoundingBox();\r\n  return geometry;\r\n};\r\n\r\nexport const setupCircle = () => {\r\n  const circleGeo = new CircleGeometry(400, 50);\r\n  const circleMat = new MeshBasicMaterial({ color: LIGHT_YELLOW });\r\n  const circle = new Mesh(circleGeo, circleMat);\r\n  circle.position.set(0, 200, -2500);\r\n  return circle;\r\n};\r\n\r\nexport interface ExtendedVector3 extends Vector3 {\r\n  velocity: number;\r\n}\r\n\r\nexport const setupStars = (starCount = 1000) => {\r\n  const starTexture = new TextureLoader().load(star);\r\n  const starGeo = new Geometry();\r\n  for (let i = 0; i < starCount; i++) {\r\n    const rainDrop = new Vector3(\r\n      Math.random() * 3000 - 1500,\r\n      Math.random() * 3000 - 1500,\r\n      Math.random() * 3000 - 1500\r\n    );\r\n    const extendedStar = { ...rainDrop, velocity: 0 } as unknown;\r\n    starGeo.vertices.push(extendedStar as Vector3);\r\n  }\r\n  const starMaterial = new PointsMaterial({\r\n    color: LIGHT_CREAM,\r\n    size: 3,\r\n    transparent: true,\r\n    map: starTexture\r\n  });\r\n  return new Points(starGeo, starMaterial);\r\n};\r\n","export const colorPalette = {\r\n  WHITE: 0xffffff,\r\n  LIGHT_CREAM: 0xfffff7,\r\n  LIGHT_YELLOW: 0xffccaa,\r\n  PANTONE_BLUE_2020: 0x0f4c81,\r\n  NIGHT_OWL_BLUE: \"#000c1d\"\r\n};\r\n","import { MemoExoticComponent } from \"react\";\r\n\r\nimport App from \"./App\";\r\nimport Root from \"./components\";\r\nimport Three from \"./components/three\";\r\n\r\nexport interface Route {\r\n  path: string;\r\n  exact: boolean;\r\n  component: (() => JSX.Element) | MemoExoticComponent<() => JSX.Element>;\r\n}\r\n\r\nconst routes: Route[] = [\r\n  { path: \"/react-start\", exact: true, component: App },\r\n  { path: \"/\", exact: true, component: Three },\r\n  { path: \"/logo\", exact: true, component: Root }\r\n];\r\n\r\nexport default routes;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nexport default () => {\r\n  const isClient = typeof window === \"object\";\r\n\r\n  const getSize = () => {\r\n    return {\r\n      width: isClient ? window.innerWidth : 100,\r\n      height: isClient ? window.innerHeight : 100\r\n    };\r\n  };\r\n\r\n  const [windowSize, setWindowSize] = useState(getSize);\r\n\r\n  useEffect(() => {\r\n    if (!isClient) {\r\n      return undefined;\r\n    }\r\n\r\n    const handleResize = () => {\r\n      setWindowSize(getSize());\r\n    };\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  });\r\n\r\n  return windowSize;\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\n\r\nimport \"./index.css\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nimport routes from \"./routes\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n    <Switch>\r\n      {routes.map(({ path, exact, component }) => (\r\n        <Route key={path} path={path} exact={exact} component={component} />\r\n      ))}\r\n    </Switch>\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}